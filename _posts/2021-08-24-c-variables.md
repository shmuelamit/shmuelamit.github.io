---
title: "מדריך C בעברית - משתנים!"
category: ctuts
---

> *"הרעיון העוצמתי ביותר במתמטיקה הוא הרעיון של המשתנה."*
>
-- <cite>A. K. Dewdney</cite>

לפני שתברחו לי אל תדאגו - לא עומדת להיות פה מתמטיקה היום! לצערי פשוט אין ציטוטים טובים בעולם הזה לגבי משתנים במדעי המחשב... אה כן - משתנים!

משתנים הם יצורים נפלאים בתכנות שניתן לחשוב עליהם כנתון או ערך שאנחנו רוצים שישתנה במהלך הריצה של התוכנה שלנו. למשל אם יש לנו חיים במשחק מחשב כלשהו אז נרצה שכשאנחנו נפגעים מאויב אז תרד לנו כמות החיים, כשאנחנו שותים שיקוי חיים אז שתעלה לנו כמות החיים וכאשר החיים שלנו יורדים מתחת ל0 אז להודיע לשחקן החביב שלנו שהוא צריך לחרוש עוד קצת.

אבל את החיים נצטרך לשמור איפשהו ולכן ניצור בשבילו משתנה - שזהו בעצם קיצור לרעיון הכללי של "מספר שמשתנה". כפי שניזכר, כרגע בתוכנה אנחנו כותבים אך ורק הסוגריים המסולסלות של פונקציית הmain שראינו בפרק הקודם אז אנא הפשילו שרוולים ופתחו את הקובץ c שלכם.

## הצהרה וטיפוסים

בשביל להגיד לתוכנה שאנחנו רוצים שיהיה משתנה חדש בmain שלנו אז נשתמש בתחביר הבא:
```c
<type> <name>;
```

כאשר `type` זהו טיפוס המשתנה ו`name` הוא שם המשתנה, מה זה טיפוס משתנה? שאלה טובה. בסוף היום כל המשתנים הם מספרים אבל הם לא יכולים לגדול לנצח - זה כי לכל משתנה מוקצת כמות מסויימת של ביטים (0 ו1ים) להשתמש בה ואי אפשר לקודד את כל המספרים שיש אבל זה מעבר למטרות שלי שאני מלמד בסדרה הזאת. בקיצור בוא נסתכל על כל סוגי המשתנים!

| ערך הכי גדול | ערך הכי קטן | טיפוס שלם |
| - | - | - |
| 127 | 128- | char |
| 32,767 | 32,767- | short |
| 2,147,483,647 | 2,147,483,647- | int |
| 9,223,372,036,854,775,807 | 9,223,372,036,854,775,807- | long |

| דיוק | טיפוס עשרוני |
| - | - | - |
| נמוך | float |
| גבוה | double |

כפי שניתן לראות הסוגים מחולקים ל2 קטגוריות של מספרים עשרוניים כמו 1.234) ומספרים שלמים (כמו 5). למספרים השלמים יש עוד תכונה מיוחדת שאפשר להוסיף אליהם שהיא תכונת הunsigned. אם נרצה שמשתנה מסוג int יהיה רק חיובי אז נשתמש במשתנה מסוג `unsigned int` והטווח שלו יהיה בין 0 ל65,535. ניתן לעשות זאת גם לשאר סוגי המשתנים וניתן לראות את הטווחים [גם פה](https://en.wikipedia.org/wiki/C_data_types).

שימו לב שהערכים פה מדוייקים למחשב שלי ולקומפיילר שלי ויכול להיות שאם תעברו בין מחשבים או קומפיילרים הערכים ישתנו קצת אבל בדרך כלל אלו הערכים הנפוצים. בוא נראה אז דוגמאות להצהרות של משתנים:

```c
int some_int;
char a_character;
unsigned long huge;
```

## פעולות על משתנים

עכשיו שאנחנו יודעים איך להגדיר משתנים נרצה לדעת איך לשנות אותם! כרגע נדון ב6 הפעולות הבסיסיות ביותר שניתן לבצע - השמה, חיבור, חיסור, כפל, חילוק, שארית. יש עוד כמה פעולות על משתנים שלא אסביר עליהם עכשיו אך המעוניינים מבינכים יכולים [לקרוא עליהן פה](https://he.wikipedia.org/wiki/%D7%A4%D7%A2%D7%95%D7%9C%D7%94_%D7%A2%D7%9C_%D7%A1%D7%99%D7%91%D7%99%D7%95%D7%AA).

השמה היא הפעולה הבסיסית שאומרת "ניקח את הערך הזה ונשים אותו בתוך המשתנה". לדוגמה אם נרצה לשים ב`some_int` את הערך 3 נכתוב כך:
```c
some_int = 3;
```

נשים לב שבסוף כל שורה כזו בC צריך לכתוב ; (פסיקודה), זה דבר שקל לפספס אבל מאוד חשוב והתוכנה לא תתקמפל בלעדיו.

יש גם יכולת לשים את ההשמה בתוך ההצהרה של המשתנה כך:

```c
int some_int = 3;
```
שאר הפעולות הן +, -, /, *, % והן מייצגות בהתאמה חיבור, חיסור, חילוק, כפל ושארית. דוגמה לפעולות הללו הינה למשל:
```c
int a = ((5 + 2) * 5 - 4);
int b = a / 2 % 10;
```
אם תבדקו בראש יצא שa הוא 31 אבל בb אנחנו נתקעים בבעיה שבה אנחנו מחלקים את 31 ב2 ומצפים לקבל מספר שלם - אבל זה לא אפשרי. זה כי החלוקה יוצאת 15.5, מה שC עושה במקרים כאלה זה לעגל למטה את המספר ולכן נקבל שb שווה 15.

לפעולות נפוצות על משתנים לאחר ההצהרה שלהם יש גם קיצורים נוחים:
```c
some_int = some_int + 5;
// OR
some_int += 5;
```

שני השורות לעיל עושות את אותה פעולה, הן מוסיפות לb את המספר 5 אך הדרך השנייה יותר קצרה ונוחה, בצורה דומה קיימים קיצורים כמו `=-, =/, =*, =%`.

## בלוקים וזמן החיים של משתנים

זוכרים את הסוגריים המסולסלות שהגדרנו בפונקציית הmain שלנו? עכשיו ננסה להבין מה זה הסוגריים המסולסלות הללו. נסתכל על התוכנה הבאה:
```c
int main() {
    {
        int n = 5;
    }
    
    int x = n + 1;
}
```

פה אני פותח עוד סוגריים מסולסלים, לסוגריים מסולסלים כאלה נקרא בלוק. הצהרה של משתנה נשארת לגיטימית רק בתחומי הבלוק וכל שימוש שלו מחוץ לשם לא יתקמפל. לדוגמה אם ננסה לקמפל את הקוד הזה נקבל את השגיאה הבאה:
```
main.c: In function ‘main’:
main.c:6:10: error: ‘n’ undeclared (first use in this function)
  int x = n + 1;
          ^
main.c:6:10: note: each undeclared identifier is reported only once for each function it appears in
```
המתלוננת שלא הגדרנו את n - זה מכיוון וההגדרה שלו נמשכה רק לאורך הבלוק של הסוגריים המסולסלות. בניגוד לכך בגלל שהבלוק של n נמצא בתוך הבלוק של main אז הקוד הבא יתקמפל:
```c
int main() {
    int x = 5;
    
    {
        int n = x + 1;
    }
}
```

ניתן גם להגדיר משתנה מחוץ לפונקציית הmain כאשר היא אינה נמצאת בשום בלוק אך משתנה כזה מכונה משתנה גלובלי **ואיננו מומלץ לשימוש כלל** כי הוא יכול לגרום לסיבוכים בתוכנות גדולות.

ועכשיו שראינו את הרעיון המופלא הזה של המשתנה - הקופסה הזאת השומרת לנו מידע לשימוש לאחר מכן ובפרק הבא נלמד על **התניות ובקרת זרימה**, דרכים שבה נוכל להשתמש בתנאים על משתנים בשביל להחליט מה יקרה בתוכנה שלנו. נתראה שם!
